<div class="confirmacao-container" *ngIf="pedido">
  <div class="confirmacao-header">
    <h1>âœ… Pedido Confirmado!</h1>
    <p class="pedido-numero">Pedido #{{ pedido.id }}</p>
  </div>

  <div class="confirmacao-content">
    <!-- Status do Pedido -->
    <div class="status-section">
      <div class="status-badge" [style.background-color]="getStatusColor(pedido.status)">
        {{ getStatusText(pedido.status) }}
      </div>
      <p class="status-info">
        Seu pedido foi recebido e estÃ¡ sendo processado. VocÃª receberÃ¡ atualizaÃ§Ãµes por email.
      </p>
    </div>

    <!-- InformaÃ§Ãµes do Cliente -->
    <div class="info-section">
      <h2>ğŸ‘¤ InformaÃ§Ãµes do Cliente</h2>
      <div class="info-grid">
        <div class="info-item">
          <strong>Nome:</strong> {{ pedido.cliente.nome }}
        </div>
        <div class="info-item">
          <strong>Email:</strong> {{ pedido.cliente.email }}
        </div>
        <div class="info-item">
          <strong>Telefone:</strong> {{ pedido.cliente.telefone }}
        </div>
      </div>
    </div>

    <!-- EndereÃ§o de Entrega -->
    <div class="info-section">
      <h2>ğŸ“ EndereÃ§o de Entrega</h2>
      <div class="endereco-detalhes">
        <p>{{ pedido.endereco.rua }}, {{ pedido.endereco.numero }}</p>
        <p *ngIf="pedido.endereco.complemento">{{ pedido.endereco.complemento }}</p>
        <p>{{ pedido.endereco.bairro }} - {{ pedido.endereco.cidade }}/{{ pedido.endereco.estado }}</p>
        <p>{{ pedido.endereco.cep }}</p>
      </div>
    </div>

    <!-- Itens do Pedido -->
    <div class="info-section">
      <h2>ğŸ›ï¸ Itens do Pedido</h2>
      <div class="itens-lista">
        <div *ngFor="let item of pedido.itens" class="item-card">
          <div class="item-info">
            <h4>{{ item.produto.nome }}</h4>
            <p class="item-descricao">{{ item.produto.descricao }}</p>
            <span class="item-quantidade">Quantidade: {{ item.quantidade }}</span>
          </div>
          <div class="item-preco">
            {{ formatarPreco(getSubtotal(item)) }}
          </div>
        </div>
      </div>
    </div>

    <!-- Resumo Financeiro -->
    <div class="info-section">
      <h2>ğŸ’° Resumo Financeiro</h2>
      <div class="resumo-grid">
        <div class="resumo-item">
          <span>Subtotal:</span>
          <span>{{ formatarPreco(pedido.subtotal) }}</span>
        </div>
        <div class="resumo-item">
          <span>Frete:</span>
          <span>{{ formatarPreco(pedido.frete) }}</span>
        </div>
        <div class="resumo-item total">
          <span>Total:</span>
          <span>{{ formatarPreco(pedido.total) }}</span>
        </div>
      </div>
    </div>

    <!-- InformaÃ§Ãµes de Pagamento -->
    <div class="info-section">
      <h2>ğŸ’³ Forma de Pagamento</h2>
      <div class="pagamento-info">
        <p><strong>MÃ©todo:</strong>
          {{ pedido.metodoPagamento === 'cartao' ? 'CartÃ£o de CrÃ©dito/DÃ©bito' :
             pedido.metodoPagamento === 'pix' ? 'PIX' : 'Boleto BancÃ¡rio' }}
        </p>
        <p *ngIf="pedido.observacoes"><strong>ObservaÃ§Ãµes:</strong> {{ pedido.observacoes }}</p>
      </div>
    </div>

    <!-- Data do Pedido -->
    <div class="info-section">
      <h2>ğŸ“… InformaÃ§Ãµes do Pedido</h2>
      <div class="pedido-info">
        <p><strong>Data do Pedido:</strong> {{ pedido.dataCriacao | date:'dd/MM/yyyy HH:mm' }}</p>
        <p><strong>ID do Pedido:</strong> {{ pedido.id }}</p>
      </div>
    </div>
  </div>

  <!-- AÃ§Ãµes -->
  <div class="confirmacao-actions">
    <button type="button" class="btn-secondary" (click)="imprimirPedido()">
      ğŸ–¨ï¸ Imprimir Pedido
    </button>
    <button type="button" class="btn-primary" (click)="fazerNovoPedido()">
      ğŸ›ï¸ Fazer Novo Pedido
    </button>
    <button type="button" class="btn-outline" (click)="voltarAoCatalogo()">
      â† Voltar ao CatÃ¡logo
    </button>
  </div>
</div>

<!-- Loading State -->
<div class="confirmacao-container" *ngIf="!pedido">
  <div class="loading-state">
    <h2>ğŸ”„ Carregando pedido...</h2>
    <p>Redirecionando para o catÃ¡logo em alguns instantes...</p>
  </div>
</div>
